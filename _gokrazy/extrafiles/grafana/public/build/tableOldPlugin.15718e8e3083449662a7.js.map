{"version":3,"file":"tableOldPlugin.15718e8e3083449662a7.js","mappings":"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","sources":["webpack://grafana/./public/app/angular/AngularLocationWrapper.ts","webpack://grafana/./public/app/angular/panel/metrics_panel_ctrl.ts","webpack://grafana/./public/app/angular/panel/panel_ctrl.ts","webpack://grafana/./public/app/angular/panel/query_ctrl.ts","webpack://grafana/./public/app/plugins/panel/table-old/transformers.ts","webpack://grafana/./public/app/plugins/panel/table-old/editor.ts","webpack://grafana/./public/app/plugins/panel/table-old/column_options.ts","webpack://grafana/./public/app/plugins/panel/table-old/renderer.ts","webpack://grafana/./public/app/plugins/panel/table-old/module.ts","webpack://grafana/./public/app/plugins/sdk.ts"],"sourcesContent":["import { locationSearchToObject, locationService, navigationLogger } from '@grafana/runtime';\nimport { deprecationWarning, urlUtil } from '@grafana/data';\n\n// Ref: https://github.com/angular/angular.js/blob/ae8e903edf88a83fedd116ae02c0628bf72b150c/src/ng/location.js#L5\nconst DEFAULT_PORTS: Record<string, number> = { http: 80, https: 443, ftp: 21 };\n\nexport class AngularLocationWrapper {\n  constructor() {\n    this.absUrl = this.wrapInDeprecationWarning(this.absUrl);\n    this.hash = this.wrapInDeprecationWarning(this.hash);\n    this.host = this.wrapInDeprecationWarning(this.host);\n    this.path = this.wrapInDeprecationWarning(this.path);\n    this.port = this.wrapInDeprecationWarning(this.port, 'window.location');\n    this.protocol = this.wrapInDeprecationWarning(this.protocol, 'window.location');\n    this.replace = this.wrapInDeprecationWarning(this.replace);\n    this.search = this.wrapInDeprecationWarning(this.search);\n    this.state = this.wrapInDeprecationWarning(this.state);\n    this.url = this.wrapInDeprecationWarning(this.url);\n  }\n\n  wrapInDeprecationWarning(fn: Function, replacement?: string) {\n    let self = this;\n\n    return function wrapper() {\n      deprecationWarning('$location', fn.name, replacement || 'locationService');\n      return fn.apply(self, arguments);\n    };\n  }\n\n  absUrl(): string {\n    return `${window.location.origin}${this.url()}`;\n  }\n\n  hash(newHash?: string | null) {\n    navigationLogger('AngularLocationWrapper', false, 'Angular compat layer: hash');\n\n    if (!newHash) {\n      return locationService.getLocation().hash.slice(1);\n    } else {\n      throw new Error('AngularLocationWrapper method not implemented.');\n    }\n  }\n\n  host(): string {\n    return new URL(window.location.href).hostname;\n  }\n\n  path(pathname?: any) {\n    navigationLogger('AngularLocationWrapper', false, 'Angular compat layer: path');\n\n    const location = locationService.getLocation();\n\n    if (pathname !== undefined && pathname !== null) {\n      let parsedPath = String(pathname);\n      parsedPath = parsedPath.startsWith('/') ? parsedPath : `/${parsedPath}`;\n      const url = new URL(`${window.location.origin}${parsedPath}`);\n\n      locationService.push({\n        pathname: url.pathname,\n        search: url.search.length > 0 ? url.search : location.search,\n        hash: url.hash.length > 0 ? url.hash : location.hash,\n      });\n      return this;\n    }\n\n    if (pathname === null) {\n      locationService.push('/');\n      return this;\n    }\n\n    return location.pathname;\n  }\n\n  port(): number | null {\n    const url = new URL(window.location.href);\n    return parseInt(url.port, 10) || DEFAULT_PORTS[url.protocol] || null;\n  }\n\n  protocol(): string {\n    return new URL(window.location.href).protocol.slice(0, -1);\n  }\n\n  replace() {\n    throw new Error('AngularLocationWrapper method not implemented.');\n  }\n\n  search(search?: any, paramValue?: any) {\n    navigationLogger('AngularLocationWrapper', false, 'Angular compat layer: search');\n    if (!search) {\n      return locationService.getSearchObject();\n    }\n\n    if (search && arguments.length > 1) {\n      locationService.partial({\n        [search]: paramValue,\n      });\n\n      return this;\n    }\n\n    if (search) {\n      let newQuery;\n\n      if (typeof search === 'object') {\n        newQuery = { ...search };\n      } else {\n        newQuery = locationSearchToObject(search);\n      }\n\n      for (const key of Object.keys(newQuery)) {\n        // removing params with null | undefined\n        if (newQuery[key] === null || newQuery[key] === undefined) {\n          delete newQuery[key];\n        }\n      }\n\n      const updatedUrl = urlUtil.renderUrl(locationService.getLocation().pathname, newQuery);\n      locationService.push(updatedUrl);\n    }\n\n    return this;\n  }\n\n  state(state?: any) {\n    navigationLogger('AngularLocationWrapper', false, 'Angular compat layer: state');\n    throw new Error('AngularLocationWrapper method not implemented.');\n  }\n\n  url(newUrl?: any) {\n    navigationLogger('AngularLocationWrapper', false, 'Angular compat layer: url');\n\n    if (newUrl !== undefined) {\n      if (newUrl.startsWith('#')) {\n        locationService.push({ ...locationService.getLocation(), hash: newUrl });\n      } else if (newUrl.startsWith('?')) {\n        locationService.push({ ...locationService.getLocation(), search: newUrl });\n      } else if (newUrl.trim().length === 0) {\n        locationService.push('/');\n      } else {\n        locationService.push(newUrl);\n      }\n\n      return locationService;\n    }\n\n    const location = locationService.getLocation();\n    return `${location.pathname}${location.search}${location.hash}`;\n  }\n}\n","import { isArray } from 'lodash';\nimport { PanelCtrl } from 'app/angular/panel/panel_ctrl';\nimport { applyPanelTimeOverrides } from 'app/features/dashboard/utils/panel';\nimport { ContextSrv } from 'app/core/services/context_srv';\nimport {\n  DataFrame,\n  DataQueryResponse,\n  DataSourceApi,\n  LegacyResponseData,\n  LoadingState,\n  PanelData,\n  PanelEvents,\n  TimeRange,\n  toDataFrameDTO,\n  toLegacyResponseData,\n} from '@grafana/data';\nimport { Unsubscribable } from 'rxjs';\nimport { PanelModel } from 'app/features/dashboard/state';\nimport { PanelQueryRunner } from '../../features/query/state/PanelQueryRunner';\n\nclass MetricsPanelCtrl extends PanelCtrl {\n  declare datasource: DataSourceApi;\n  declare range: TimeRange;\n\n  contextSrv: ContextSrv;\n  datasourceSrv: any;\n  timeSrv: any;\n  templateSrv: any;\n  interval: any;\n  intervalMs: any;\n  resolution: any;\n  timeInfo?: string;\n  skipDataOnInit = false;\n  dataList: LegacyResponseData[] = [];\n  querySubscription?: Unsubscribable | null;\n  useDataFrames = false;\n  panelData?: PanelData;\n\n  constructor($scope: any, $injector: any) {\n    super($scope, $injector);\n\n    this.contextSrv = $injector.get('contextSrv');\n    this.datasourceSrv = $injector.get('datasourceSrv');\n    this.timeSrv = $injector.get('timeSrv');\n    this.templateSrv = $injector.get('templateSrv');\n    this.panel.datasource = this.panel.datasource || null;\n\n    this.events.on(PanelEvents.refresh, this.onMetricsPanelRefresh.bind(this));\n    this.events.on(PanelEvents.panelTeardown, this.onPanelTearDown.bind(this));\n    this.events.on(PanelEvents.componentDidMount, this.onMetricsPanelMounted.bind(this));\n  }\n\n  private onMetricsPanelMounted() {\n    const queryRunner = this.panel.getQueryRunner() as PanelQueryRunner;\n    this.querySubscription = queryRunner\n      .getData({ withTransforms: true, withFieldConfig: true })\n      .subscribe(this.panelDataObserver);\n  }\n\n  private onPanelTearDown() {\n    if (this.querySubscription) {\n      this.querySubscription.unsubscribe();\n      this.querySubscription = null;\n    }\n  }\n\n  private onMetricsPanelRefresh() {\n    // ignore fetching data if another panel is in fullscreen\n    if (this.otherPanelInFullscreenMode()) {\n      return;\n    }\n\n    // if we have snapshot data use that\n    if (this.panel.snapshotData) {\n      this.updateTimeRange();\n      let data = this.panel.snapshotData;\n      // backward compatibility\n      if (!isArray(data)) {\n        data = data.data;\n      }\n\n      this.panelData = {\n        state: LoadingState.Done,\n        series: data,\n        timeRange: this.range,\n      };\n\n      // Defer panel rendering till the next digest cycle.\n      // For some reason snapshot panels don't init at this time, so this helps to avoid rendering issues.\n      return this.$timeout(() => {\n        this.events.emit(PanelEvents.dataSnapshotLoad, data);\n      });\n    }\n\n    // clear loading/error state\n    delete this.error;\n    this.loading = true;\n\n    // load datasource service\n    return this.datasourceSrv\n      .get(this.panel.datasource, this.panel.scopedVars)\n      .then(this.issueQueries.bind(this))\n      .catch((err: any) => {\n        this.processDataError(err);\n      });\n  }\n\n  processDataError(err: any) {\n    // if canceled  keep loading set to true\n    if (err.cancelled) {\n      console.log('Panel request cancelled', err);\n      return;\n    }\n\n    this.error = err.message || 'Request Error';\n\n    if (err.data) {\n      if (err.data.message) {\n        this.error = err.data.message;\n      } else if (err.data.error) {\n        this.error = err.data.error;\n      }\n    }\n\n    this.angularDirtyCheck();\n  }\n\n  angularDirtyCheck() {\n    if (!this.$scope.$root.$$phase) {\n      this.$scope.$digest();\n    }\n  }\n\n  // Updates the response with information from the stream\n  panelDataObserver = {\n    next: (data: PanelData) => {\n      this.panelData = data;\n\n      if (data.state === LoadingState.Error) {\n        this.loading = false;\n        this.processDataError(data.error);\n      }\n\n      // Ignore data in loading state\n      if (data.state === LoadingState.Loading) {\n        this.loading = true;\n        this.angularDirtyCheck();\n        return;\n      }\n\n      if (data.request) {\n        const { timeInfo } = data.request;\n        if (timeInfo) {\n          this.timeInfo = timeInfo;\n        }\n      }\n\n      if (data.timeRange) {\n        this.range = data.timeRange;\n      }\n\n      if (this.useDataFrames) {\n        this.handleDataFrames(data.series);\n      } else {\n        // Make the results look as if they came directly from a <6.2 datasource request\n        const legacy = data.series.map((v) => toLegacyResponseData(v));\n        this.handleQueryResult({ data: legacy });\n      }\n\n      this.angularDirtyCheck();\n    },\n  };\n\n  updateTimeRange(datasource?: DataSourceApi) {\n    this.datasource = datasource || this.datasource;\n    this.range = this.timeSrv.timeRange();\n\n    const newTimeData = applyPanelTimeOverrides(this.panel, this.range);\n    this.timeInfo = newTimeData.timeInfo;\n    this.range = newTimeData.timeRange;\n  }\n\n  issueQueries(datasource: DataSourceApi) {\n    this.updateTimeRange(datasource);\n\n    this.datasource = datasource;\n\n    const panel = this.panel as PanelModel;\n    const queryRunner = panel.getQueryRunner();\n\n    return queryRunner.run({\n      datasource: panel.datasource,\n      queries: panel.targets,\n      panelId: panel.id,\n      dashboardId: this.dashboard.id,\n      timezone: this.dashboard.getTimezone(),\n      timeInfo: this.timeInfo,\n      timeRange: this.range,\n      maxDataPoints: panel.maxDataPoints || this.width,\n      minInterval: panel.interval,\n      scopedVars: panel.scopedVars,\n      cacheTimeout: panel.cacheTimeout,\n      transformations: panel.transformations,\n    });\n  }\n\n  handleDataFrames(data: DataFrame[]) {\n    this.loading = false;\n\n    if (this.dashboard && this.dashboard.snapshot) {\n      this.panel.snapshotData = data.map((frame) => toDataFrameDTO(frame));\n    }\n\n    try {\n      this.events.emit(PanelEvents.dataFramesReceived, data);\n    } catch (err) {\n      this.processDataError(err);\n    }\n  }\n\n  handleQueryResult(result: DataQueryResponse) {\n    this.loading = false;\n\n    if (this.dashboard.snapshot) {\n      this.panel.snapshotData = result.data;\n    }\n\n    if (!result || !result.data) {\n      console.log('Data source query result invalid, missing data field:', result);\n      result = { data: [] };\n    }\n\n    try {\n      this.events.emit(PanelEvents.dataReceived, result.data);\n    } catch (err) {\n      this.processDataError(err);\n    }\n  }\n}\n\nexport { MetricsPanelCtrl };\n","import { isString } from 'lodash';\nimport config from 'app/core/config';\nimport { profiler } from 'app/core/core';\nimport { auto } from 'angular';\nimport {\n  AppEvent,\n  PanelEvents,\n  PanelPluginMeta,\n  AngularPanelMenuItem,\n  EventBusExtended,\n  EventBusSrv,\n} from '@grafana/data';\nimport { DashboardModel } from '../../features/dashboard/state';\nimport { AngularLocationWrapper } from 'app/angular/AngularLocationWrapper';\n\nexport class PanelCtrl {\n  panel: any;\n  error: any;\n  declare dashboard: DashboardModel;\n  pluginName = '';\n  pluginId = '';\n  editorTabs: any;\n  $scope: any;\n  $injector: auto.IInjectorService;\n  $timeout: any;\n  editModeInitiated = false;\n  declare height: number;\n  declare width: number;\n  containerHeight: any;\n  events: EventBusExtended;\n  loading = false;\n  timing: any;\n  $location: AngularLocationWrapper;\n\n  constructor($scope: any, $injector: auto.IInjectorService) {\n    this.panel = this.panel ?? $scope.$parent.panel;\n    this.dashboard = this.dashboard ?? $scope.$parent.dashboard;\n    this.$injector = $injector;\n    this.$scope = $scope;\n    this.$timeout = $injector.get('$timeout');\n    this.editorTabs = [];\n    this.$location = new AngularLocationWrapper();\n    this.events = new EventBusSrv();\n    this.timing = {}; // not used but here to not break plugins\n\n    const plugin = config.panels[this.panel.type];\n    if (plugin) {\n      this.pluginId = plugin.id;\n      this.pluginName = plugin.name;\n    }\n\n    $scope.$on(PanelEvents.componentDidMount.name, () => this.panelDidMount());\n  }\n\n  panelDidMount() {\n    this.events.emit(PanelEvents.componentDidMount);\n    this.events.emit(PanelEvents.initialized);\n    this.dashboard.panelInitialized(this.panel);\n  }\n\n  renderingCompleted() {\n    profiler.renderingCompleted();\n  }\n\n  refresh() {\n    this.panel.refresh();\n  }\n\n  publishAppEvent<T>(event: AppEvent<T>, payload?: T) {\n    this.$scope.$root.appEvent(event, payload);\n  }\n\n  initEditMode() {\n    if (!this.editModeInitiated) {\n      this.editModeInitiated = true;\n      this.events.emit(PanelEvents.editModeInitialized);\n    }\n  }\n\n  addEditorTab(title: string, directiveFn: any, index?: number, icon?: any) {\n    const editorTab = { title, directiveFn, icon };\n\n    if (isString(directiveFn)) {\n      editorTab.directiveFn = () => {\n        return { templateUrl: directiveFn };\n      };\n    }\n\n    if (index) {\n      this.editorTabs.splice(index, 0, editorTab);\n    } else {\n      this.editorTabs.push(editorTab);\n    }\n  }\n\n  getExtendedMenu() {\n    const menu: AngularPanelMenuItem[] = [];\n    this.events.emit(PanelEvents.initPanelActions, menu);\n    return menu;\n  }\n\n  // Override in sub-class to add items before extended menu\n  async getAdditionalMenuItems(): Promise<any[]> {\n    return [];\n  }\n\n  otherPanelInFullscreenMode() {\n    return this.dashboard.otherPanelInFullscreen(this.panel);\n  }\n\n  render(payload?: any) {\n    this.events.emit(PanelEvents.render, payload);\n  }\n\n  // overriden from react\n  onPluginTypeChange = (plugin: PanelPluginMeta) => {};\n}\n","import { indexOf } from 'lodash';\nimport { auto } from 'angular';\n\nexport class QueryCtrl<T = any> {\n  target!: T;\n  datasource!: any;\n  panelCtrl!: any;\n  panel: any;\n  hasRawMode!: boolean;\n  error?: string | null;\n  isLastQuery: boolean;\n\n  constructor(public $scope: any, public $injector: auto.IInjectorService) {\n    this.panelCtrl = this.panelCtrl ?? $scope.ctrl.panelCtrl;\n    this.target = this.target ?? $scope.ctrl.target;\n    this.datasource = this.datasource ?? $scope.ctrl.datasource;\n    this.panel = this.panelCtrl?.panel ?? $scope.ctrl.panelCtrl.panel;\n    this.isLastQuery = indexOf(this.panel.targets, this.target) === this.panel.targets.length - 1;\n  }\n\n  refresh() {\n    this.panelCtrl.refresh();\n  }\n}\n","import { findIndex, isObject, map } from 'lodash';\nimport flatten from 'app/core/utils/flatten';\nimport TimeSeries from 'app/core/time_series2';\nimport TableModel, { mergeTablesIntoModel } from 'app/core/table_model';\nimport { TableTransform } from './types';\nimport { Column, TableData } from '@grafana/data';\n\nconst transformers: { [key: string]: TableTransform } = {};\nexport const timeSeriesFormatFilterer = (data: any): any[] => {\n  if (!Array.isArray(data)) {\n    return data.datapoints ? [data] : [];\n  }\n\n  return data.reduce((acc, series) => {\n    if (!series.datapoints) {\n      return acc;\n    }\n\n    return acc.concat(series);\n  }, []);\n};\n\nexport const tableDataFormatFilterer = (data: any): any[] => {\n  if (!Array.isArray(data)) {\n    return data.columns ? [data] : [];\n  }\n\n  return data.reduce((acc, series) => {\n    if (!series.columns) {\n      return acc;\n    }\n\n    return acc.concat(series);\n  }, []);\n};\n\ntransformers['timeseries_to_rows'] = {\n  description: 'Time series to rows',\n  getColumns: () => {\n    return [];\n  },\n  transform: (data, panel, model) => {\n    model.columns = [{ text: 'Time', type: 'date' }, { text: 'Metric' }, { text: 'Value' }];\n    const filteredData = timeSeriesFormatFilterer(data);\n\n    for (let i = 0; i < filteredData.length; i++) {\n      const series = filteredData[i];\n      for (let y = 0; y < series.datapoints.length; y++) {\n        const dp = series.datapoints[y];\n        model.rows.push([dp[1], series.target, dp[0]]);\n      }\n    }\n  },\n};\n\ntransformers['timeseries_to_columns'] = {\n  description: 'Time series to columns',\n  getColumns: () => {\n    return [];\n  },\n  transform: (data, panel, model) => {\n    model.columns.push({ text: 'Time', type: 'date' });\n\n    // group by time\n    const points: any = {};\n    const filteredData = timeSeriesFormatFilterer(data);\n\n    for (let i = 0; i < filteredData.length; i++) {\n      const series = filteredData[i];\n      model.columns.push({ text: series.target });\n\n      for (let y = 0; y < series.datapoints.length; y++) {\n        const dp = series.datapoints[y];\n        const timeKey = dp[1].toString();\n\n        if (!points[timeKey]) {\n          points[timeKey] = { time: dp[1] };\n          points[timeKey][i] = dp[0];\n        } else {\n          points[timeKey][i] = dp[0];\n        }\n      }\n    }\n\n    for (const time in points) {\n      const point = points[time];\n      const values = [point.time];\n\n      for (let i = 0; i < filteredData.length; i++) {\n        const value = point[i];\n        values.push(value);\n      }\n\n      model.rows.push(values);\n    }\n  },\n};\n\ntransformers['timeseries_aggregations'] = {\n  description: 'Time series aggregations',\n  getColumns: () => {\n    return [\n      { text: 'Avg', value: 'avg' },\n      { text: 'Min', value: 'min' },\n      { text: 'Max', value: 'max' },\n      { text: 'Total', value: 'total' },\n      { text: 'Current', value: 'current' },\n      { text: 'Count', value: 'count' },\n    ];\n  },\n  transform: (data, panel, model) => {\n    let i, y;\n    model.columns.push({ text: 'Metric' });\n\n    for (i = 0; i < panel.columns.length; i++) {\n      model.columns.push({ text: panel.columns[i].text });\n    }\n\n    const filteredData = timeSeriesFormatFilterer(data);\n\n    for (i = 0; i < filteredData.length; i++) {\n      const series = new TimeSeries({\n        datapoints: filteredData[i].datapoints,\n        alias: filteredData[i].target,\n      });\n\n      series.getFlotPairs('connected');\n      const cells = [series.alias];\n\n      for (y = 0; y < panel.columns.length; y++) {\n        cells.push(series.stats[panel.columns[y].value]);\n      }\n\n      model.rows.push(cells);\n    }\n  },\n};\n\ntransformers['annotations'] = {\n  description: 'Annotations',\n  getColumns: () => {\n    return [];\n  },\n  transform: (data, panel, model) => {\n    model.columns.push({ text: 'Time', type: 'date' });\n    model.columns.push({ text: 'Title' });\n    model.columns.push({ text: 'Text' });\n    model.columns.push({ text: 'Tags' });\n\n    if (!data || !data.annotations || data.annotations.length === 0) {\n      return;\n    }\n\n    for (let i = 0; i < data.annotations.length; i++) {\n      const evt = data.annotations[i];\n      model.rows.push([evt.time, evt.title, evt.text, evt.tags]);\n    }\n  },\n};\n\ntransformers['table'] = {\n  description: 'Table',\n  getColumns: (data) => {\n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    // Single query returns data columns as is\n    if (data.length === 1) {\n      return [...data[0].columns];\n    }\n\n    const filteredData = tableDataFormatFilterer(data);\n\n    // Track column indexes: name -> index\n    const columnNames: any = {};\n\n    // Union of all columns\n    const columns = filteredData.reduce((acc: Column[], series: TableData) => {\n      series.columns.forEach((col) => {\n        const { text } = col;\n        if (columnNames[text] === undefined) {\n          columnNames[text] = acc.length;\n          acc.push(col);\n        }\n      });\n      return acc;\n    }, []);\n\n    return columns;\n  },\n  transform: (data: any[], panel, model) => {\n    if (!data || data.length === 0) {\n      return;\n    }\n    const filteredData = tableDataFormatFilterer(data);\n    const noTableIndex = findIndex(filteredData, (d) => 'columns' in d && 'rows' in d);\n    if (noTableIndex < 0) {\n      throw {\n        message: `Result of query #${String.fromCharCode(\n          65 + noTableIndex\n        )} is not in table format, try using another transform.`,\n      };\n    }\n\n    mergeTablesIntoModel(model, ...filteredData);\n  },\n};\n\ntransformers['json'] = {\n  description: 'JSON Data',\n  getColumns: (data) => {\n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    const names: any = {};\n    for (let i = 0; i < data.length; i++) {\n      const series = data[i];\n      if (series.type !== 'docs') {\n        continue;\n      }\n\n      // only look at 100 docs\n      const maxDocs = Math.min(series.datapoints.length, 100);\n      for (let y = 0; y < maxDocs; y++) {\n        const doc = series.datapoints[y];\n        const flattened = flatten(doc, {});\n        for (const propName in flattened) {\n          names[propName] = true;\n        }\n      }\n    }\n\n    return map(names, (value, key) => {\n      return { text: key, value: key };\n    });\n  },\n  transform: (data, panel, model) => {\n    let i, y, z;\n\n    for (const column of panel.columns) {\n      const tableCol: any = { text: column.text };\n\n      // if filterable data then set columns to filterable\n      if (data.length > 0 && data[0].filterable) {\n        tableCol.filterable = true;\n      }\n\n      model.columns.push(tableCol);\n    }\n\n    if (model.columns.length === 0) {\n      model.columns.push({ text: 'JSON' });\n    }\n\n    for (i = 0; i < data.length; i++) {\n      const series = data[i];\n\n      for (y = 0; y < series.datapoints.length; y++) {\n        const dp = series.datapoints[y];\n        const values = [];\n\n        if (isObject(dp) && panel.columns.length > 0) {\n          const flattened = flatten(dp);\n          for (z = 0; z < panel.columns.length; z++) {\n            values.push(flattened[panel.columns[z].value]);\n          }\n        } else {\n          values.push(JSON.stringify(dp));\n        }\n\n        model.rows.push(values);\n      }\n    }\n  },\n};\n\nfunction transformDataToTable(data: any, panel: any) {\n  const model = new TableModel();\n\n  if (!data || data.length === 0) {\n    return model;\n  }\n\n  const transformer = transformers[panel.transform];\n  if (!transformer) {\n    throw { message: 'Transformer ' + panel.transform + ' not found' };\n  }\n\n  transformer.transform(data, panel, model);\n  return model;\n}\n\nexport { transformers, transformDataToTable };\n","import { find, map, without } from 'lodash';\nimport { transformers } from './transformers';\nimport { ColumnStyle } from './types';\n\nexport class TablePanelEditorCtrl {\n  panel: any;\n  panelCtrl: any;\n  transformers: any;\n  fontSizes: any;\n  addColumnSegment: any;\n  getColumnNames: any;\n  canSetColumns = false;\n  columnsHelpMessage = '';\n\n  /** @ngInject */\n  constructor($scope: any, private uiSegmentSrv: any) {\n    $scope.editor = this;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.transformers = transformers;\n    this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\n    this.addColumnSegment = uiSegmentSrv.newPlusButton();\n    this.updateTransformHints();\n  }\n\n  updateTransformHints() {\n    this.canSetColumns = false;\n    this.columnsHelpMessage = '';\n\n    switch (this.panel.transform) {\n      case 'timeseries_aggregations': {\n        this.canSetColumns = true;\n        break;\n      }\n      case 'json': {\n        this.canSetColumns = true;\n        break;\n      }\n      case 'table': {\n        this.columnsHelpMessage = 'Columns and their order are determined by the data query';\n      }\n    }\n  }\n\n  getColumnOptions() {\n    if (!this.panelCtrl.dataRaw) {\n      return Promise.resolve([]);\n    }\n    const columns = this.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw);\n    const segments = map(columns, (c: any) => this.uiSegmentSrv.newSegment({ value: c.text }));\n    return Promise.resolve(segments);\n  }\n\n  addColumn() {\n    const columns = transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw);\n    const column: any = find(columns, { text: this.addColumnSegment.value });\n\n    if (column) {\n      this.panel.columns.push(column);\n      this.render();\n    }\n\n    const plusButton = this.uiSegmentSrv.newPlusButton();\n    this.addColumnSegment.html = plusButton.html;\n    this.addColumnSegment.value = plusButton.value;\n  }\n\n  transformChanged() {\n    this.panel.columns = [];\n    if (this.panel.transform === 'annotations') {\n      this.panelCtrl.refresh();\n    } else {\n      if (this.panel.transform === 'timeseries_aggregations') {\n        this.panel.columns.push({ text: 'Avg', value: 'avg' });\n      }\n\n      this.updateTransformHints();\n      this.render();\n    }\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  removeColumn(column: ColumnStyle) {\n    this.panel.columns = without(this.panel.columns, column);\n    this.panelCtrl.render();\n  }\n}\n\nexport function tablePanelEditor(uiSegmentSrv: any) {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/plugins/panel/table-old/editor.html',\n    controller: TablePanelEditorCtrl,\n  };\n}\n","import { map, without } from 'lodash';\nimport { getValueFormats } from '@grafana/data';\n\nexport class ColumnOptionsCtrl {\n  panel: any;\n  panelCtrl: any;\n  colorModes: any;\n  columnStyles: any;\n  columnTypes: any;\n  fontSizes: any;\n  dateFormats: any;\n  addColumnSegment: any;\n  unitFormats: any;\n  getColumnNames: any;\n  activeStyleIndex: number;\n  mappingTypes: any;\n\n  alignTypes: any;\n  static readonly alignTypesEnum = [\n    { text: 'auto', value: '' },\n    { text: 'left', value: 'left' },\n    { text: 'center', value: 'center' },\n    { text: 'right', value: 'right' },\n  ];\n\n  /** @ngInject */\n  constructor($scope: any) {\n    $scope.editor = this;\n\n    this.activeStyleIndex = 0;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.unitFormats = getValueFormats();\n    this.colorModes = [\n      { text: 'Disabled', value: null },\n      { text: 'Cell', value: 'cell' },\n      { text: 'Value', value: 'value' },\n      { text: 'Row', value: 'row' },\n    ];\n    this.columnTypes = [\n      { text: 'Number', value: 'number' },\n      { text: 'String', value: 'string' },\n      { text: 'Date', value: 'date' },\n      { text: 'Hidden', value: 'hidden' },\n    ];\n    this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\n    this.dateFormats = [\n      { text: 'YYYY-MM-DD HH:mm:ss', value: 'YYYY-MM-DD HH:mm:ss' },\n      { text: 'YYYY-MM-DD HH:mm:ss.SSS', value: 'YYYY-MM-DD HH:mm:ss.SSS' },\n      { text: 'MM/DD/YY h:mm:ss a', value: 'MM/DD/YY h:mm:ss a' },\n      { text: 'MMMM D, YYYY LT', value: 'MMMM D, YYYY LT' },\n      { text: 'YYYY-MM-DD', value: 'YYYY-MM-DD' },\n    ];\n    this.mappingTypes = [\n      { text: 'Value to text', value: 1 },\n      { text: 'Range to text', value: 2 },\n    ];\n    this.alignTypes = ColumnOptionsCtrl.alignTypesEnum;\n\n    this.getColumnNames = () => {\n      if (!this.panelCtrl.table) {\n        return [];\n      }\n      return map(this.panelCtrl.table.columns, (col: any) => {\n        return col.text;\n      });\n    };\n\n    this.onColorChange = this.onColorChange.bind(this);\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  setUnitFormat(column: any) {\n    return (value: any) => {\n      column.unit = value;\n      this.panelCtrl.render();\n    };\n  }\n\n  addColumnStyle() {\n    const newStyleRule: object = {\n      unit: 'short',\n      type: 'number',\n      alias: '',\n      decimals: 2,\n      colors: ['rgba(245, 54, 54, 0.9)', 'rgba(237, 129, 40, 0.89)', 'rgba(50, 172, 45, 0.97)'],\n      colorMode: null,\n      pattern: '',\n      dateFormat: 'YYYY-MM-DD HH:mm:ss',\n      thresholds: [],\n      mappingType: 1,\n      align: 'auto',\n    };\n\n    const styles = this.panel.styles;\n    const stylesCount = styles.length;\n    let indexToInsert = stylesCount;\n\n    // check if last is a catch all rule, then add it before that one\n    if (stylesCount > 0) {\n      const last = styles[stylesCount - 1];\n      if (last.pattern === '/.*/') {\n        indexToInsert = stylesCount - 1;\n      }\n    }\n\n    styles.splice(indexToInsert, 0, newStyleRule);\n    this.activeStyleIndex = indexToInsert;\n  }\n\n  removeColumnStyle(style: any) {\n    this.panel.styles = without(this.panel.styles, style);\n  }\n\n  invertColorOrder(index: number) {\n    const ref = this.panel.styles[index].colors;\n    const copy = ref[0];\n    ref[0] = ref[2];\n    ref[2] = copy;\n    this.panelCtrl.render();\n  }\n\n  onColorChange(style: any, colorIndex: number) {\n    return (newColor: string) => {\n      style.colors[colorIndex] = newColor;\n      this.render();\n    };\n  }\n\n  addValueMap(style: any) {\n    if (!style.valueMaps) {\n      style.valueMaps = [];\n    }\n    style.valueMaps.push({ value: '', text: '' });\n    this.panelCtrl.render();\n  }\n\n  removeValueMap(style: any, index: number) {\n    style.valueMaps.splice(index, 1);\n    this.panelCtrl.render();\n  }\n\n  addRangeMap(style: any) {\n    if (!style.rangeMaps) {\n      style.rangeMaps = [];\n    }\n    style.rangeMaps.push({ from: '', to: '', text: '' });\n    this.panelCtrl.render();\n  }\n\n  removeRangeMap(style: any, index: number) {\n    style.rangeMaps.splice(index, 1);\n    this.panelCtrl.render();\n  }\n}\n\nexport function columnOptionsTab() {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/plugins/panel/table-old/column_options.html',\n    controller: ColumnOptionsCtrl,\n  };\n}\n","import { find, first, isArray, isString, escape } from 'lodash';\nimport {\n  escapeStringForRegex,\n  formattedValueToString,\n  getValueFormat,\n  ScopedVars,\n  stringStartsAsRegEx,\n  stringToJsRegex,\n  textUtil,\n  unEscapeStringFromRegex,\n  TimeZone,\n  dateTimeFormatISO,\n  dateTimeFormat,\n  getColorForTheme,\n  GrafanaTheme,\n} from '@grafana/data';\nimport { getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport { ColumnRender, TableRenderModel, ColumnStyle } from './types';\nimport { ColumnOptionsCtrl } from './column_options';\n\nexport class TableRenderer {\n  formatters: any[] = [];\n  colorState: any;\n\n  constructor(\n    private panel: { styles: ColumnStyle[]; pageSize: number },\n    private table: TableRenderModel,\n    private timeZone: TimeZone,\n    private sanitize: (v: any) => any,\n    private templateSrv: TemplateSrv = getTemplateSrv(),\n    private theme: GrafanaTheme\n  ) {\n    this.initColumns();\n  }\n\n  setTable(table: TableRenderModel) {\n    this.table = table;\n\n    this.initColumns();\n  }\n\n  initColumns() {\n    this.formatters = [];\n    this.colorState = {};\n\n    for (let colIndex = 0; colIndex < this.table.columns.length; colIndex++) {\n      const column = this.table.columns[colIndex];\n      column.title = column.text;\n\n      for (let i = 0; i < this.panel.styles.length; i++) {\n        const style = this.panel.styles[i];\n\n        const escapedPattern = stringStartsAsRegEx(style.pattern)\n          ? style.pattern\n          : escapeStringForRegex(unEscapeStringFromRegex(style.pattern));\n        const regex = stringToJsRegex(escapedPattern);\n        if (column.text.match(regex)) {\n          column.style = style;\n\n          if (style.alias) {\n            column.title = textUtil.escapeHtml(column.text.replace(regex, style.alias));\n          }\n\n          break;\n        }\n      }\n\n      this.formatters[colIndex] = this.createColumnFormatter(column);\n    }\n  }\n\n  getColorForValue(value: number, style: ColumnStyle) {\n    if (!style.thresholds || !style.colors) {\n      return null;\n    }\n    for (let i = style.thresholds.length; i > 0; i--) {\n      if (value >= style.thresholds[i - 1]) {\n        return getColorForTheme(style.colors[i], this.theme);\n      }\n    }\n    return getColorForTheme(first(style.colors), this.theme);\n  }\n\n  defaultCellFormatter(v: any, style: ColumnStyle) {\n    if (v === null || v === void 0 || v === undefined) {\n      return '';\n    }\n\n    if (isArray(v)) {\n      v = v.join(', ');\n    }\n\n    if (style && style.sanitize) {\n      return this.sanitize(v);\n    } else {\n      return escape(v);\n    }\n  }\n\n  createColumnFormatter(column: ColumnRender) {\n    if (!column.style) {\n      return this.defaultCellFormatter;\n    }\n\n    if (column.style.type === 'hidden') {\n      return (v: any): undefined => undefined;\n    }\n\n    if (column.style.type === 'date') {\n      return (v: any) => {\n        if (v === undefined || v === null) {\n          return '-';\n        }\n\n        if (isArray(v)) {\n          v = v[0];\n        }\n\n        // if is an epoch (numeric string and len > 12)\n        if (isString(v) && !isNaN(v as any) && v.length > 12) {\n          v = parseInt(v, 10);\n        }\n\n        if (!column.style.dateFormat) {\n          return dateTimeFormatISO(v, {\n            timeZone: this.timeZone,\n          });\n        }\n\n        return dateTimeFormat(v, {\n          format: column.style.dateFormat,\n          timeZone: this.timeZone,\n        });\n      };\n    }\n\n    if (column.style.type === 'string') {\n      return (v: any): any => {\n        if (isArray(v)) {\n          v = v.join(', ');\n        }\n\n        const mappingType = column.style.mappingType || 0;\n\n        if (mappingType === 1 && column.style.valueMaps) {\n          for (let i = 0; i < column.style.valueMaps.length; i++) {\n            const map = column.style.valueMaps[i];\n\n            if (v === null) {\n              if (map.value === 'null') {\n                return map.text;\n              }\n              continue;\n            }\n\n            // Allow both numeric and string values to be mapped\n            if ((!isString(v) && Number(map.value) === Number(v)) || map.value === v) {\n              this.setColorState(v, column.style);\n              return this.defaultCellFormatter(map.text, column.style);\n            }\n          }\n        }\n\n        if (mappingType === 2 && column.style.rangeMaps) {\n          for (let i = 0; i < column.style.rangeMaps.length; i++) {\n            const map = column.style.rangeMaps[i];\n\n            if (v === null) {\n              if (map.from === 'null' && map.to === 'null') {\n                return map.text;\n              }\n              continue;\n            }\n\n            if (Number(map.from) <= Number(v) && Number(map.to) >= Number(v)) {\n              this.setColorState(v, column.style);\n              return this.defaultCellFormatter(map.text, column.style);\n            }\n          }\n        }\n\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        this.setColorState(v, column.style);\n        return this.defaultCellFormatter(v, column.style);\n      };\n    }\n\n    if (column.style.type === 'number') {\n      const valueFormatter = getValueFormat(column.unit || column.style.unit);\n\n      return (v: any): any => {\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        if (isNaN(v) || isArray(v)) {\n          return this.defaultCellFormatter(v, column.style);\n        }\n\n        this.setColorState(v, column.style);\n        return formattedValueToString(valueFormatter(v, column.style.decimals, null));\n      };\n    }\n\n    return (value: any) => {\n      return this.defaultCellFormatter(value, column.style);\n    };\n  }\n\n  setColorState(value: any, style: ColumnStyle) {\n    if (!style.colorMode) {\n      return;\n    }\n\n    if (value === null || value === void 0 || isArray(value)) {\n      return;\n    }\n\n    const numericValue = Number(value);\n    if (isNaN(numericValue)) {\n      return;\n    }\n\n    this.colorState[style.colorMode] = this.getColorForValue(numericValue, style);\n  }\n\n  renderRowVariables(rowIndex: number) {\n    const scopedVars: ScopedVars = {};\n    let cellVariable;\n    const row = this.table.rows[rowIndex];\n    for (let i = 0; i < row.length; i++) {\n      cellVariable = `__cell_${i}`;\n      scopedVars[cellVariable] = { value: row[i], text: row[i] ? row[i].toString() : '' };\n    }\n    return scopedVars;\n  }\n\n  formatColumnValue(colIndex: number, value: any) {\n    const fmt = this.formatters[colIndex];\n    if (fmt) {\n      return fmt(value);\n    }\n    return value;\n  }\n\n  renderCell(columnIndex: number, rowIndex: number, value: any, addWidthHack = false) {\n    value = this.formatColumnValue(columnIndex, value);\n\n    const column = this.table.columns[columnIndex];\n    const cellStyles = [];\n    let cellStyle = '';\n    const cellClasses = [];\n    let cellClass = '';\n\n    if (this.colorState.cell) {\n      cellStyles.push('background-color:' + this.colorState.cell);\n      cellClasses.push('table-panel-color-cell');\n      this.colorState.cell = null;\n    } else if (this.colorState.value) {\n      cellStyles.push('color:' + this.colorState.value);\n      this.colorState.value = null;\n    }\n    // because of the fixed table headers css only solution\n    // there is an issue if header cell is wider the cell\n    // this hack adds header content to cell (not visible)\n    let columnHtml = '';\n    if (addWidthHack) {\n      columnHtml = '<div class=\"table-panel-width-hack\">' + this.table.columns[columnIndex].title + '</div>';\n    }\n\n    if (value === undefined) {\n      cellStyles.push('display:none');\n      column.hidden = true;\n    } else {\n      column.hidden = false;\n    }\n\n    if (column.hidden === true) {\n      return '';\n    }\n\n    if (column.style && column.style.preserveFormat) {\n      cellClasses.push('table-panel-cell-pre');\n    }\n\n    if (column.style && column.style.align) {\n      const textAlign = find(ColumnOptionsCtrl.alignTypesEnum, ['text', column.style.align]);\n      if (textAlign && textAlign['value']) {\n        cellStyles.push(`text-align:${textAlign['value']}`);\n      }\n    }\n\n    if (cellStyles.length) {\n      cellStyle = ' style=\"' + cellStyles.join(';') + '\"';\n    }\n\n    if (column.style && column.style.link) {\n      // Render cell as link\n      const scopedVars = this.renderRowVariables(rowIndex);\n      scopedVars['__cell'] = { value: value, text: value ? value.toString() : '' };\n\n      const cellLink = this.templateSrv.replace(column.style.linkUrl, scopedVars, encodeURIComponent);\n      const sanitizedCellLink = textUtil.sanitizeUrl(cellLink);\n\n      const cellLinkTooltip = textUtil.escapeHtml(this.templateSrv.replace(column.style.linkTooltip, scopedVars));\n      const cellTarget = column.style.linkTargetBlank ? '_blank' : '';\n\n      cellClasses.push('table-panel-cell-link');\n\n      columnHtml += `<a href=\"${sanitizedCellLink}\" target=\"${cellTarget}\" data-link-tooltip data-original-title=\"${cellLinkTooltip}\" data-placement=\"right\"${cellStyle}>`;\n      columnHtml += `${value}`;\n      columnHtml += `</a>`;\n    } else {\n      columnHtml += value;\n    }\n\n    if (column.filterable) {\n      cellClasses.push('table-panel-cell-filterable');\n      columnHtml += `<a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter out value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"!=\">`;\n      columnHtml += `<i class=\"fa fa-search-minus\"></i>`;\n      columnHtml += `</a>`;\n      columnHtml += `<a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter for value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"=\">`;\n      columnHtml += `<i class=\"fa fa-search-plus\"></i>`;\n      columnHtml += `</a>`;\n    }\n\n    if (cellClasses.length) {\n      cellClass = ' class=\"' + cellClasses.join(' ') + '\"';\n    }\n\n    columnHtml = '<td' + cellClass + cellStyle + '>' + columnHtml + '</td>';\n    return columnHtml;\n  }\n\n  render(page: number) {\n    const pageSize = this.panel.pageSize || 100;\n    const startPos = page * pageSize;\n    const endPos = Math.min(startPos + pageSize, this.table.rows.length);\n    let html = '';\n\n    for (let y = startPos; y < endPos; y++) {\n      const row = this.table.rows[y];\n      let cellHtml = '';\n      let rowStyle = '';\n      const rowClasses = [];\n      let rowClass = '';\n      for (let i = 0; i < this.table.columns.length; i++) {\n        cellHtml += this.renderCell(i, y, row[i], y === startPos);\n      }\n\n      if (this.colorState.row) {\n        rowStyle = ' style=\"background-color:' + this.colorState.row + '\"';\n        rowClasses.push('table-panel-color-row');\n        this.colorState.row = null;\n      }\n\n      if (rowClasses.length) {\n        rowClass = ' class=\"' + rowClasses.join(' ') + '\"';\n      }\n\n      html += '<tr ' + rowClass + rowStyle + '>' + cellHtml + '</tr>';\n    }\n\n    return html;\n  }\n\n  render_values() {\n    const rows = [];\n    const visibleColumns = this.table.columns.filter((column) => !column.hidden);\n\n    for (let y = 0; y < this.table.rows.length; y++) {\n      const row = this.table.rows[y];\n      const newRow = [];\n      for (let i = 0; i < this.table.columns.length; i++) {\n        if (!this.table.columns[i].hidden) {\n          newRow.push(this.formatColumnValue(i, row[i]));\n        }\n      }\n      rows.push(newRow);\n    }\n    return {\n      columns: visibleColumns,\n      rows: rows,\n    };\n  }\n}\n","import { defaults } from 'lodash';\nimport $ from 'jquery';\nimport { MetricsPanelCtrl } from 'app/plugins/sdk';\nimport config from 'app/core/config';\nimport { transformDataToTable } from './transformers';\nimport { tablePanelEditor } from './editor';\nimport { columnOptionsTab } from './column_options';\nimport { TableRenderer } from './renderer';\nimport { isTableData, PanelEvents, PanelPlugin, PanelProps } from '@grafana/data';\nimport { dispatch } from 'app/store/store';\nimport { ComponentType } from 'react';\nimport { applyFilterFromTable } from 'app/features/variables/adhoc/actions';\n\nexport class TablePanelCtrl extends MetricsPanelCtrl {\n  static templateUrl = 'module.html';\n\n  pageIndex: number;\n  dataRaw: any;\n  table: any;\n  renderer: any;\n  panelHasRowColorMode: boolean;\n  panelHasLinks: boolean;\n\n  panelDefaults: any = {\n    targets: [{}],\n    transform: 'timeseries_to_columns',\n    pageSize: null,\n    showHeader: true,\n    styles: [\n      {\n        type: 'date',\n        pattern: 'Time',\n        alias: 'Time',\n        dateFormat: 'YYYY-MM-DD HH:mm:ss',\n        align: 'auto',\n      },\n      {\n        unit: 'short',\n        type: 'number',\n        alias: '',\n        decimals: 2,\n        colors: ['rgba(245, 54, 54, 0.9)', 'rgba(237, 129, 40, 0.89)', 'rgba(50, 172, 45, 0.97)'],\n        colorMode: null,\n        pattern: '/.*/',\n        thresholds: [],\n        align: 'right',\n      },\n    ],\n    columns: [],\n\n    fontSize: '100%',\n    sort: { col: 0, desc: true },\n  };\n\n  /** @ngInject */\n  constructor($scope: any, $injector: any, private annotationsSrv: any, private $sanitize: any) {\n    super($scope, $injector);\n\n    this.pageIndex = 0;\n\n    if (this.panel.styles === void 0) {\n      this.panel.styles = this.panel.columns;\n      this.panel.columns = this.panel.fields;\n      delete this.panel.columns;\n      delete this.panel.fields;\n    }\n\n    defaults(this.panel, this.panelDefaults);\n\n    this.panelHasRowColorMode = Boolean(this.panel.styles.find((style: any) => style.colorMode === 'row'));\n    this.panelHasLinks = Boolean(this.panel.styles.find((style: any) => style.link));\n\n    this.events.on(PanelEvents.dataReceived, this.onDataReceived.bind(this));\n    this.events.on(PanelEvents.dataSnapshotLoad, this.onDataReceived.bind(this));\n    this.events.on(PanelEvents.editModeInitialized, this.onInitEditMode.bind(this));\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Options', tablePanelEditor, 2);\n    this.addEditorTab('Column Styles', columnOptionsTab, 3);\n  }\n\n  migrateToPanel(type: string) {\n    this.onPluginTypeChange(config.panels[type]);\n  }\n\n  issueQueries(datasource: any) {\n    this.pageIndex = 0;\n\n    if (this.panel.transform === 'annotations') {\n      return this.annotationsSrv\n        .getAnnotations({\n          dashboard: this.dashboard,\n          panel: this.panel,\n          range: this.range,\n        })\n        .then((anno: any) => {\n          this.loading = false;\n          this.dataRaw = anno;\n          this.pageIndex = 0;\n          this.render();\n          return { data: this.dataRaw }; // Not used\n        });\n    }\n\n    return super.issueQueries(datasource);\n  }\n\n  onDataReceived(dataList: any) {\n    this.dataRaw = dataList;\n    this.pageIndex = 0;\n\n    // automatically correct transform mode based on data\n    if (this.dataRaw && this.dataRaw.length) {\n      if (isTableData(this.dataRaw[0])) {\n        this.panel.transform = 'table';\n      } else {\n        if (this.dataRaw[0].type === 'docs') {\n          this.panel.transform = 'json';\n        } else {\n          if (this.panel.transform === 'table' || this.panel.transform === 'json') {\n            this.panel.transform = 'timeseries_to_rows';\n          }\n        }\n      }\n    }\n\n    this.render();\n  }\n\n  render() {\n    this.table = transformDataToTable(this.dataRaw, this.panel);\n    this.table.sort(this.panel.sort);\n\n    this.renderer = new TableRenderer(\n      this.panel,\n      this.table,\n      this.dashboard.getTimezone(),\n      this.$sanitize,\n      this.templateSrv,\n      config.theme\n    );\n\n    return super.render(this.table);\n  }\n\n  toggleColumnSort(col: any, colIndex: any) {\n    // remove sort flag from current column\n    if (this.table.columns[this.panel.sort.col]) {\n      this.table.columns[this.panel.sort.col].sort = false;\n    }\n\n    if (this.panel.sort.col === colIndex) {\n      if (this.panel.sort.desc) {\n        this.panel.sort.desc = false;\n      } else {\n        this.panel.sort.col = null;\n      }\n    } else {\n      this.panel.sort.col = colIndex;\n      this.panel.sort.desc = true;\n    }\n    this.render();\n  }\n\n  link(scope: any, elem: JQuery, attrs: any, ctrl: TablePanelCtrl) {\n    let data: any;\n    const panel = ctrl.panel;\n    let pageCount = 0;\n\n    function getTableHeight() {\n      let panelHeight = ctrl.height;\n\n      if (pageCount > 1) {\n        panelHeight -= 26;\n      }\n\n      return panelHeight - 31 + 'px';\n    }\n\n    function appendTableRows(tbodyElem: JQuery) {\n      ctrl.renderer.setTable(data);\n      tbodyElem.empty();\n      tbodyElem.html(ctrl.renderer.render(ctrl.pageIndex));\n    }\n\n    function switchPage(e: any) {\n      const el = $(e.currentTarget);\n      ctrl.pageIndex = parseInt(el.text(), 10) - 1;\n      renderPanel();\n    }\n\n    function appendPaginationControls(footerElem: JQuery) {\n      footerElem.empty();\n\n      const pageSize = panel.pageSize || 100;\n      pageCount = Math.ceil(data.rows.length / pageSize);\n      if (pageCount === 1) {\n        return;\n      }\n\n      const startPage = Math.max(ctrl.pageIndex - 3, 0);\n      const endPage = Math.min(pageCount, startPage + 9);\n\n      const paginationList = $('<ul></ul>');\n\n      for (let i = startPage; i < endPage; i++) {\n        const activeClass = i === ctrl.pageIndex ? 'active' : '';\n        const pageLinkElem = $(\n          '<li><a class=\"table-panel-page-link pointer ' + activeClass + '\">' + (i + 1) + '</a></li>'\n        );\n        paginationList.append(pageLinkElem);\n      }\n\n      footerElem.append(paginationList);\n    }\n\n    function renderPanel() {\n      const panelElem = elem.parents('.panel-content');\n      const rootElem = elem.find('.table-panel-scroll');\n      const tbodyElem = elem.find('tbody');\n      const footerElem = elem.find('.table-panel-footer');\n\n      elem.css({ 'font-size': panel.fontSize });\n      panelElem.addClass('table-panel-content');\n\n      appendTableRows(tbodyElem);\n      appendPaginationControls(footerElem);\n\n      rootElem.css({ 'max-height': getTableHeight() });\n    }\n\n    // hook up link tooltips\n    elem.tooltip({\n      selector: '[data-link-tooltip]',\n    });\n\n    function addFilterClicked(e: any) {\n      const filterData = $(e.currentTarget).data();\n      const options = {\n        datasource: panel.datasource,\n        key: data.columns[filterData.column].text,\n        value: data.rows[filterData.row][filterData.column],\n        operator: filterData.operator,\n      };\n\n      dispatch(applyFilterFromTable(options));\n    }\n\n    elem.on('click', '.table-panel-page-link', switchPage);\n    elem.on('click', '.table-panel-filter-link', addFilterClicked);\n\n    const unbindDestroy = scope.$on('$destroy', () => {\n      elem.off('click', '.table-panel-page-link');\n      elem.off('click', '.table-panel-filter-link');\n      unbindDestroy();\n    });\n\n    ctrl.events.on(PanelEvents.render, (renderData: any) => {\n      data = renderData || data;\n      if (data) {\n        renderPanel();\n      }\n      ctrl.renderingCompleted();\n    });\n  }\n}\n\nexport const plugin = new PanelPlugin(null as unknown as ComponentType<PanelProps<any>>);\nplugin.angularPanelCtrl = TablePanelCtrl;\nplugin.setNoPadding();\n","import { makeClassES5Compatible } from '@grafana/data';\nimport { loadPluginCss } from '@grafana/runtime';\nimport { PanelCtrl as PanelCtrlES6 } from 'app/angular/panel/panel_ctrl';\nimport { MetricsPanelCtrl as MetricsPanelCtrlES6 } from 'app/angular/panel/metrics_panel_ctrl';\nimport { QueryCtrl as QueryCtrlES6 } from 'app/angular/panel/query_ctrl';\n\nconst PanelCtrl = makeClassES5Compatible(PanelCtrlES6);\nconst MetricsPanelCtrl = makeClassES5Compatible(MetricsPanelCtrlES6);\nconst QueryCtrl = makeClassES5Compatible(QueryCtrlES6);\n\nexport { PanelCtrl, MetricsPanelCtrl, QueryCtrl, loadPluginCss };\n"],"names":["DEFAULT_PORTS","http","https","ftp","AngularLocationWrapper","constructor","this","absUrl","wrapInDeprecationWarning","hash","host","path","port","protocol","replace","search","state","url","fn","replacement","self","deprecationWarning","name","apply","arguments","window","location","origin","newHash","navigationLogger","Error","locationService","slice","URL","href","hostname","pathname","parsedPath","String","startsWith","length","parseInt","paramValue","newQuery","locationSearchToObject","key","Object","keys","undefined","updatedUrl","urlUtil","newUrl","trim","MetricsPanelCtrl","PanelCtrl","$scope","$injector","super","next","data","panelData","LoadingState","loading","processDataError","error","angularDirtyCheck","request","timeInfo","timeRange","range","useDataFrames","handleDataFrames","series","legacy","map","v","toLegacyResponseData","handleQueryResult","contextSrv","get","datasourceSrv","timeSrv","templateSrv","panel","datasource","events","on","PanelEvents","onMetricsPanelRefresh","bind","onPanelTearDown","onMetricsPanelMounted","queryRunner","getQueryRunner","querySubscription","getData","withTransforms","withFieldConfig","subscribe","panelDataObserver","unsubscribe","otherPanelInFullscreenMode","snapshotData","updateTimeRange","isArray","$timeout","emit","scopedVars","then","issueQueries","catch","err","cancelled","console","log","message","$root","$$phase","$digest","newTimeData","applyPanelTimeOverrides","run","queries","targets","panelId","id","dashboardId","dashboard","timezone","getTimezone","maxDataPoints","width","minInterval","interval","cacheTimeout","transformations","snapshot","frame","toDataFrameDTO","result","plugin","$parent","editorTabs","$location","EventBusSrv","timing","config","type","pluginId","pluginName","$on","panelDidMount","panelInitialized","renderingCompleted","profiler","refresh","publishAppEvent","event","payload","appEvent","initEditMode","editModeInitiated","addEditorTab","title","directiveFn","index","icon","editorTab","isString","templateUrl","splice","push","getExtendedMenu","menu","otherPanelInFullscreen","render","QueryCtrl","panelCtrl","ctrl","target","isLastQuery","indexOf","transformers","timeSeriesFormatFilterer","Array","reduce","acc","datapoints","concat","tableDataFormatFilterer","columns","description","getColumns","transform","model","text","filteredData","i","y","dp","rows","points","timeKey","toString","time","point","values","value","TimeSeries","alias","getFlotPairs","cells","stats","annotations","evt","tags","columnNames","forEach","col","noTableIndex","findIndex","d","fromCharCode","mergeTablesIntoModel","names","maxDocs","Math","min","doc","flattened","flatten","propName","z","column","tableCol","filterable","isObject","JSON","stringify","TablePanelEditorCtrl","uiSegmentSrv","editor","fontSizes","addColumnSegment","newPlusButton","updateTransformHints","canSetColumns","columnsHelpMessage","getColumnOptions","dataRaw","Promise","resolve","segments","c","newSegment","addColumn","find","plusButton","html","transformChanged","removeColumn","without","tablePanelEditor","restrict","scope","controller","ColumnOptionsCtrl","activeStyleIndex","unitFormats","getValueFormats","colorModes","columnTypes","dateFormats","mappingTypes","alignTypes","alignTypesEnum","getColumnNames","table","onColorChange","setUnitFormat","unit","addColumnStyle","styles","stylesCount","indexToInsert","pattern","decimals","colors","colorMode","dateFormat","thresholds","mappingType","align","removeColumnStyle","style","invertColorOrder","ref","copy","colorIndex","newColor","addValueMap","valueMaps","removeValueMap","addRangeMap","rangeMaps","from","to","removeRangeMap","columnOptionsTab","TableRenderer","timeZone","sanitize","getTemplateSrv","theme","initColumns","setTable","formatters","colorState","colIndex","escapedPattern","stringStartsAsRegEx","escapeStringForRegex","unEscapeStringFromRegex","regex","stringToJsRegex","match","textUtil","createColumnFormatter","getColorForValue","getColorForTheme","first","defaultCellFormatter","join","escape","isNaN","dateTimeFormat","format","dateTimeFormatISO","Number","setColorState","valueFormatter","getValueFormat","formattedValueToString","numericValue","renderRowVariables","rowIndex","cellVariable","row","formatColumnValue","fmt","renderCell","columnIndex","addWidthHack","cellStyles","cellStyle","cellClasses","cellClass","cell","columnHtml","hidden","preserveFormat","textAlign","link","cellLink","linkUrl","encodeURIComponent","sanitizedCellLink","cellLinkTooltip","linkTooltip","cellTarget","linkTargetBlank","page","pageSize","startPos","endPos","cellHtml","rowStyle","rowClasses","rowClass","render_values","visibleColumns","filter","newRow","TablePanelCtrl","annotationsSrv","$sanitize","showHeader","fontSize","sort","desc","pageIndex","fields","defaults","panelDefaults","panelHasRowColorMode","Boolean","panelHasLinks","onDataReceived","onInitEditMode","migrateToPanel","onPluginTypeChange","getAnnotations","anno","dataList","isTableData","TableModel","transformer","transformDataToTable","renderer","toggleColumnSort","elem","attrs","pageCount","getTableHeight","panelHeight","height","renderPanel","panelElem","parents","rootElem","tbodyElem","footerElem","css","addClass","empty","appendTableRows","ceil","startPage","max","endPage","paginationList","$","activeClass","pageLinkElem","append","appendPaginationControls","tooltip","selector","e","el","currentTarget","filterData","options","operator","dispatch","applyFilterFromTable","unbindDestroy","off","renderData","PanelPlugin","angularPanelCtrl","setNoPadding","makeClassES5Compatible","PanelCtrlES6","MetricsPanelCtrlES6","QueryCtrlES6"],"sourceRoot":""}